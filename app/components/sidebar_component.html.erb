<!-- Show Sidebar when
1. authenticated && hosting && event_path (#show) -> Edit and Delete Buttons
2. authenticated && hosting && edit_event_path -> Submit (PUT)
3. unauthenticated && new_event_path -> Submit (POST)
-->
<aside id="sidebar-footer" 
    class="fixed md:top-2/5 md:right-0 md:bottom-auto md:left-auto md:w-27 md:h-1/4 z-1 
     left-1/3 bottom-0 h-1/12 sm:translate-x-0 w-full" 
    aria-label="Sidebar">
  <ul class="flex flex-row md:block">
    <% if helpers.authenticated? %>
      <% if Pundit.policy(Current.user, @event).edit? && helpers.on_event_path? %>
        <%= link_to edit_event_path(@event), 
            class: "" do %>
          <li class="w-full bg-gray-200 hover:brightness-80 flex align-center p-5 md:px-3 md:py-5">
            <%= icon 'pencil', library: "boxicons" %>
            <span class="flex-1 ml-2 whitespace-nowrap">Edit</span>
          </li>
        <% end %>
        <%= link_to @event, data: { turbo_confirm: "Are you sure you want to delete this event?", turbo_method: :delete } do %>
          <li class="w-full text-white bg-red-500 hover:brightness-80 flex align-center
                    p-5 md:px-3 md:py-5">
            <%= icon 'x', library: "boxicons" %>
            <span class="flex-1 ml-2 whitespace-nowrap">Delete</span>
          </li>
        <% end %>
      <% elsif Pundit.policy(Current.user, @event).update? && helpers.on_edit_event_path? %>
        <%= @form.submit class: "" do %>
          <li class="w-full bg-gray-200 hover:brightness-80 flex align-center p-5 md:px-3 md:py-5">
            <%= icon 'pencil', library: "boxicons" %>
            <span class="flex-1 ml-2 whitespace-nowrap">Submit</span>
          </li>
        <% end %>
      <% end %>
    <% else %>
      <%= @form.submit "Create", class: "" do %>
        <li class="w-full bg-gray-200 hover:brightness-80 flex align-center p-5 md:px-3 md:py-5">
          <%= icon 'pencil', library: "boxicons" %>
          <span class="flex-1 ml-2 whitespace-nowrap">Submit</span>
        </li>
      <% end %>
    <% end %>
  </ul>
</aside>
<%#= console.log(11111111) %>