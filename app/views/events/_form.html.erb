<%= form_with(model: @event, class: "contents") do |form| %>
  <% if event.errors.any? %>
    <div id="error_explanation" class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-md mt-3">
      <h2><%= pluralize(event.errors.count, "error") %> prohibited this event from being saved:</h2>
      <ul class="list-disc ml-6">
        <% event.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <% if alert = flash[:alert] %>
    <p class="py-2 px-3 bg-red-50 mb-5 text-red-500 font-medium rounded-lg inline-block" id="alert"><%= alert %></p>
  <% end %>
  <% if notice = flash[:notice] %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% end %>
  <div class="w-full text-lg">
    <% if notice.present? %>
      <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice"><%= notice %></p>
    <% end %>
    <div class="flex flex-col p-0 md:pr-[50%]">
      <%= form.text_field :title, required: true, placeholder: "Untitled Event", 
          class: "font-bold text-6xl font-work-sans my-5 self-center md:self-start w-full #{formBarColors}" %>
      <div class="w-105 h-105 mb-5 md:w-1/3 self-center md:self-auto md:fixed md:right-1/12 md:top-1/6">
        <%= form.select :cover_image, array_of_cover_images, selected: @event.cover_image || array_of_cover_images[0], required: true, include_hidden: false %>
        <%= image_tag "posters/#{@event.cover_image || array_of_cover_images[0]}", id: "cover_image_preview" %>
      </div>
      <div class="flex flex-row mb-2">
        <%= render DateTimePickerComponent.new(event: @event) %>
      </div>
      <%#= form.text_field :start_date, required: true, placeholder: "start_date", class: "text-3xl font-black mt-5" %>
      <!--<div class="text-xl text-branddarkgray brightness-70 mb-5"><%#= formatted_time(@event.start_date) %></div>-->
      <div class="flex items-center justify-start my-4">
        <div class="w-auto h-auto m-1 mr-3">
          <%= icon 'crown', library: "boxicons" %>
        </div>
        <span class="">Hosted by</span>
        <span class='ml-1.5'>
          <%= render AvatarPlaceholderComponent.new(placeholder_initial: Current.user.placeholder_initial) %>
        </span>
        <span class="ml-1.5"><%= Current.user.display_name %></span>
      </div>
      <div class="flex flex-row mb-2">
        <div class="w-auto h-auto m-1 mr-3">
          <%= icon 'pin', library: "boxicons", data: { "tooltip-target": "tooltip-location" } %>
          <div id="tooltip-location" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-xs opacity-0">
            Location
            <div class="tooltip-arrow" data-popper-arrow></div>
          </div>
        </div>
        <%= form.text_field :location, required: true, placeholder: "location", class: "#{formBarColors}" %>
      </div>
      <div class="flex flex-row mb-2">
        <div class="w-auto h-auto m-1 mr-3">
          <%= icon 'user-circle', library: "boxicons", data: { "tooltip-target": "tooltip-max-capacity" } %>
          <div id="tooltip-max-capacity" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-xs opacity-0">
            Max Capacity
            <div class="tooltip-arrow" data-popper-arrow></div>
          </div>
        </div>
        <%= form.text_field :max_capacity, required: true, placeholder: "max_capacity", class: "#{formBarColors}" %>
      </div>
      <div class="flex flex-row mb-2">
        <div class="w-auto h-auto m-1 mr-3">
          <%= icon 'fork-knife', library: "boxicons", data: { "tooltip-target": "tooltip-food-situation" } %>
          <div id="tooltip-food-situation" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-xs opacity-0">
            Food Situation
            <div class="tooltip-arrow" data-popper-arrow></div>
          </div>
        </div>
        <%= form.text_field :food_situation, required: true, placeholder: "food_situation", class: "#{formBarColors}" %>
      </div>
      <div class="flex flex-row mb-2">
        <div class="w-auto h-auto m-1 mr-3">
          <%= icon 'dress', library: "boxicons", data: { "tooltip-target": "tooltip-dress-code" } %>
          <div id="tooltip-dress-code" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-xs opacity-0">
            Dress Code
            <div class="tooltip-arrow" data-popper-arrow></div>
          </div>
        </div>
        <%= form.text_field :dress_code, required: true, placeholder: "dress_code", class: "#{formBarColors}" %>
      </div>
      <div class="flex flex-row mb-2">
        <div class="w-auto h-auto m-1 mr-3">
          <%= icon 'building-house', library: "boxicons", data: { "tooltip-target": "tooltip-accommodation" } %>
          <div id="tooltip-accommodation" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-xs opacity-0">
            Accommodation
            <div class="tooltip-arrow" data-popper-arrow></div>
          </div>
        </div>
        <%= form.text_field :accommodation, required: true, placeholder: "accommodation", class: "#{formBarColors}" %>
      </div>
      <div class="flex flex-row mb-2">
        <div class="w-auto h-auto m-1 mr-3">
          <%= icon 'car', library: "boxicons", data: { "tooltip-target": "tooltip-parking-instructions" } %>
          <div id="tooltip-parking-instructions" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-xs opacity-0">
            Parking Instructions
            <div class="tooltip-arrow" data-popper-arrow></div>
          </div>
        </div>
        <%= form.text_field :parking_instructions, required: true, placeholder: "parking_instructions", class: "#{formBarColors}" %>
      </div>
      <div class="flex flex-row mb-2">
        <div class="w-auto h-auto m-1 mr-3">
          <%= icon 'info-circle', library: "boxicons", data: { "tooltip-target": "tooltip-additional-info" } %>
          <div id="tooltip-additional-info" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-xs opacity-0">
            Additional Info
            <div class="tooltip-arrow" data-popper-arrow></div>
          </div>
        </div>
        <%= form.text_field :additional_info, required: true, placeholder: "additional_info", class: "#{formBarColors}" %>
      </div>
      <div class="mt-10 mb-5 w-full">
        <%= form.text_area :description, required: true, placeholder: "description", 
          class: "w-full h-[300px] field-sizing-content #{formBarColors}" %>
      </div>
    </div>
    <%= render SidebarComponent.new(event: @event) %>
  </div>
<% end %>
<%= javascript_include_tag 'events.js' %>